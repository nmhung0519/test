<!DOCTYPE html>
<html>
    <head>
        <style>
            #picture {
                background: url('picture/1-01.jpg');
                width: 480px;
                height: 360px;

            }
        </style>
    </head>
    <body>
        <div id="picture" style="position: absolute"></div>
    </body>
    <script>
        var picture = document.getElementById("picture");
        var x, y;
        var tmpX, tmpY;
        var target = null;
        var direction = null;
        picture.addEventListener("mousedown", function (event) {
            addEventListener("mousemove", check);
            x = event.screenX;
            y = event.screenY;
        })
        addEventListener("mouseup", function (t) {
            if(target != null) target.style.transform = 'scale(1)';
            removeEventListener("mousemove", check);
            if (target != null) console.log(target.style.left, target.style.top);
            target = null;
        })
        function check(event) {
            if (target == null) {
                if (event.screenX != x) {
                    select(event.target);
                    direction = 1;
                }
                else {
                    select(event.target)
                    direction = 2;
                }
            }
            else {
                //console.log(direction);
                if (direction == 1) {
                    if (event.screenX != x) {
                        var tmp = tmpX + (event.screenX - x);
                        if (tmp < 0) tmp = 0;
                        target.style.left = tmp + "px";
                    }
                }
                else if (direction == 2) {
                    if (event.screenY != y) {
                        var tmp = tmpY + (event.screenY - y);
                        if (tmp < 0) tmp = 0;
                        target.style.top = tmp + "px";
                    }
                }
            }
        }
        function select(_target) {
            target = _target;
            target.style.transform = 'scale(1.1)';
            tmpY = new Number((target.style.top).slice(0, -2));
            tmpX = new Number((target.style.left).slice(0, -2));
        }
    </script>
</html>